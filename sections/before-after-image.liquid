<style>
.before-after-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem 1rem;
  background: white;
}

.before-after-title {
  font-size: 2.5rem;
  font-weight: bold;
  margin-bottom: 1rem;
  color: #000;
}

.before-after-description {
  color: #666;
  font-size: 1.1rem;
  margin-bottom: 2rem;
}

.before-after-wrapper {
  position: relative;
  width: 100%;
  aspect-ratio: 1;
  overflow: hidden;
  border-radius: 1rem;
  cursor: ew-resize;
  user-select: none;
  background: #f5f5f5;
}

.before-after-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  pointer-events: none;
}

.after-image {
  z-index: 1;
}

.before-image-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  z-index: 2;
  clip-path: inset(0 50% 0 0);
}

.slider-line {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 50%;
  width: 2px;
  background: white;
  z-index: 3;
  pointer-events: none;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
}

.slider-handle {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 64px;
  height: 64px;
  background: white;
  border-radius: 50%;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: grab;
  pointer-events: auto;
  border: 3px solid #f0f0f0;
}

.slider-handle:active {
  cursor: grabbing;
}

.slider-icon {
  display: flex;
  gap: 2px;
}

.slider-icon span {
  width: 2px;
  height: 24px;
  background: #333;
}

.label {
  position: absolute;
  top: 2rem;
  background: white;
  color: black;
  padding: 0.5rem 1.25rem;
  border-radius: 0.5rem;
  font-weight: bold;
  font-size: 1.1rem;
  z-index: 4;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

.label-before {
  left: 2rem;
}

.label-after {
  right: 2rem;
}

@media (max-width: 768px) {
  .before-after-title {
    font-size: 1.75rem;
  }
  
  .before-after-description {
    font-size: 1rem;
  }
  
  .slider-handle {
    width: 56px;
    height: 56px;
  }
  
  .label {
    font-size: 0.9rem;
    padding: 0.4rem 1rem;
    top: 1.5rem;
  }
  
  .label-before {
    left: 1rem;
  }
  
  .label-after {
    right: 1rem;
  }
}
</style>

<div class="before-after-container">
  <h2 class="before-after-title">Before/after</h2>
  <p class="before-after-description">
    Showcase your product benefit by using before/after image comparison.
  </p>

  <div class="before-after-wrapper" id="beforeAfterSlider">
    <img 
      src="https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=1000&q=90"
      alt="After" 
      class="before-after-image after-image"
    >
    <div class="label label-after">After</div>

    <div class="before-image-container" id="beforeContainer">
      <img 
        src="https://images.unsplash.com/photo-1484480974693-6ca0a78fb36b?w=1000&q=90"
        alt="Before" 
        class="before-after-image"
      >
      <div class="label label-before">Before</div>
    </div>

    <div class="slider-line" id="sliderLine">
      <div class="slider-handle" id="sliderHandle">
        <div class="slider-icon">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
(function() {
  var slider = document.getElementById('beforeAfterSlider');
  var beforeContainer = document.getElementById('beforeContainer');
  var sliderLine = document.getElementById('sliderLine');
  var isDragging = false;

  function updateSlider(x) {
    var rect = slider.getBoundingClientRect();
    var position = x - rect.left;
    var percentage = Math.max(0, Math.min(100, (position / rect.width) * 100));
    
    var clipValue = 100 - percentage;
    beforeContainer.style.clipPath = 'inset(0 ' + clipValue + '% 0 0)';
    sliderLine.style.left = percentage + '%';
  }

  slider.addEventListener('mousedown', function() {
    isDragging = true;
  });

  document.addEventListener('mouseup', function() {
    isDragging = false;
  });

  document.addEventListener('mousemove', function(e) {
    if (!isDragging) return;
    updateSlider(e.clientX);
  });

  slider.addEventListener('touchstart', function() {
    isDragging = true;
  });

  slider.addEventListener('touchend', function() {
    isDragging = false;
  });

  slider.addEventListener('touchmove', function(e) {
    if (e.touches.length > 0) {
      updateSlider(e.touches[0].clientX);
    }
  });

  var initialRect = slider.getBoundingClientRect();
  updateSlider(initialRect.left + (slider.offsetWidth / 2));
})();
</script>