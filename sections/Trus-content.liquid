<div class="trustpilot-minimal">
  <div class="trustpilot-content">
    
    {% if section.settings.show_title and section.settings.title != blank %}
    <h2 class="main-title">{{ section.settings.title }}</h2>
    {% endif %}
    
    <div class="rating-block">
      <div class="rating-line">
        <span class="excellent-label">{{ section.settings.excellent_text }}</span>
        <span class="rating-number">{{ section.settings.rating }} / 5</span>
        
        <div class="stars-block">
          <span class="star">‚òÖ</span>
          <span class="star">‚òÖ</span>
          <span class="star">‚òÖ</span>
          <span class="star">‚òÖ</span>
          <span class="star">‚òÖ</span>
        </div>
      </div>
      
      <div class="info-line">
        {{ section.settings.review_prefix }}<span class="count">{{ section.settings.review_count }}</span>{{ section.settings.review_suffix }}
        <span class="brand">‚≠ê {{ section.settings.brand_text }}</span>
      </div>
    </div>
    
  </div>
</div>

<style>
.trustpilot-minimal {
  background: {{ section.settings.background_color }};
  padding: {{ section.settings.top_spacing }}px 15px {{ section.settings.bottom_spacing }}px 15px;
}

.trustpilot-content {
  max-width: 1000px;
  margin: 0 auto;
  text-align: center;
}

.main-title {
  font-size: {{ section.settings.title_size }}px;
  color: {{ section.settings.title_color }};
  font-weight: 600;
  margin: 0 0 {{ section.settings.title_gap }}px 0;
  line-height: 1.2;
}

.rating-block {
  display: flex;
  flex-direction: column;
  gap: {{ section.settings.lines_gap }}px;
  align-items: center;
}

.rating-line {
  display: flex;
  align-items: center;
  gap: {{ section.settings.elements_gap }}px;
  flex-wrap: wrap;
  justify-content: center;
}

.excellent-label {
  font-size: {{ section.settings.text_size }}px;
  color: {{ section.settings.text_color }};
  font-weight: 500;
}

.rating-number {
  font-size: {{ section.settings.rating_size }}px;
  color: {{ section.settings.rating_color }};
  font-weight: 700;
}

.stars-block {
  display: flex;
  gap: {{ section.settings.stars_gap }}px;
}

.star {
  width: {{ section.settings.star_size }}px;
  height: {{ section.settings.star_size }}px;
  background: {{ section.settings.star_color }};
  color: white;
  border-radius: 3px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: {{ section.settings.star_icon_size }}px;
  font-weight: bold;
}

.info-line {
  font-size: {{ section.settings.info_size }}px;
  color: {{ section.settings.info_color }};
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: center;
}

.count {
  color: {{ section.settings.count_color }};
  font-weight: 600;
  text-decoration: underline;
}

.brand {
  color: {{ section.settings.brand_color }};
  font-weight: 600;
}

/* Mobile responsive */
@media (max-width: 768px) {
  .rating-line {
    flex-direction: column;
    gap: {{ section.settings.mobile_gap }}px;
  }
  
  .info-line {
    flex-direction: column;
    gap: {{ section.settings.mobile_gap }}px;
  }
  
  .main-title {
    font-size: {{ section.settings.title_size | minus: 4 }}px;
  }
  
  .star {
    width: {{ section.settings.star_size | minus: 3 }}px;
    height: {{ section.settings.star_size | minus: 3 }}px;
    font-size: {{ section.settings.star_icon_size | minus: 2 }}px;
  }
}
</style>

{% schema %}
{
  "name": "Trustpilot Minimal",
  "settings": [
    {
      "type": "header",
      "content": "üìù Contenu"
    },
    {
      "type": "checkbox",
      "id": "show_title",
      "label": "Afficher le titre",
      "default": true
    },
    {
      "type": "text",
      "id": "title",
      "label": "Titre",
      "default": "Nos clients en parlent le mieux"
    },
    {
      "type": "text",
      "id": "excellent_text",
      "label": "Texte excellent",
      "default": "Excellent"
    },
    {
      "type": "text",
      "id": "rating",
      "label": "Note",
      "default": "4,7"
    },
    {
      "type": "text",
      "id": "review_prefix",
      "label": "Avant nombre",
      "default": "bas√© sur +"
    },
    {
      "type": "text",
      "id": "review_count",
      "label": "Nombre d'avis",
      "default": "1 067"
    },
    {
      "type": "text",
      "id": "review_suffix",
      "label": "Apr√®s nombre",
      "default": " avis"
    },
    {
      "type": "text",
      "id": "brand_text",
      "label": "Texte marque",
      "default": "Trustpilot"
    },
    {
      "type": "header",
      "content": "üìè Espacements"
    },
    {
      "type": "range",
      "id": "top_spacing",
      "label": "Espacement haut",
      "min": 0,
      "max": 60,
      "step": 5,
      "default": 15,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "bottom_spacing",
      "label": "Espacement bas",
      "min": 0,
      "max": 60,
      "step": 5,
      "default": 15,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "title_gap",
      "label": "Espace apr√®s titre",
      "min": 5,
      "max": 30,
      "step": 5,
      "default": 15,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "lines_gap",
      "label": "Espace entre lignes",
      "min": 5,
      "max": 25,
      "step": 5,
      "default": 10,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "elements_gap",
      "label": "Espace entre √©l√©ments",
      "min": 8,
      "max": 20,
      "step": 2,
      "default": 12,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "stars_gap",
      "label": "Espace entre √©toiles",
      "min": 2,
      "max": 8,
      "step": 1,
      "default": 3,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "mobile_gap",
      "label": "Espace mobile",
      "min": 6,
      "max": 15,
      "step": 1,
      "default": 8,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "üìê Tailles"
    },
    {
      "type": "range",
      "id": "title_size",
      "label": "Taille titre",
      "min": 20,
      "max": 36,
      "step": 2,
      "default": 26,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "text_size",
      "label": "Taille texte",
      "min": 14,
      "max": 20,
      "step": 1,
      "default": 16,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "rating_size",
      "label": "Taille note",
      "min": 16,
      "max": 24,
      "step": 1,
      "default": 20,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "info_size",
      "label": "Taille info",
      "min": 12,
      "max": 18,
      "step": 1,
      "default": 14,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "star_size",
      "label": "Taille √©toiles",
      "min": 20,
      "max": 32,
      "step": 2,
      "default": 26,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "star_icon_size",
      "label": "Taille ic√¥ne √©toile",
      "min": 12,
      "max": 18,
      "step": 1,
      "default": 15,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "üé® Couleurs"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Arri√®re-plan",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Couleur titre",
      "default": "#1a202c"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Couleur texte",
      "default": "#2d3748"
    },
    {
      "type": "color",
      "id": "rating_color",
      "label": "Couleur note",
      "default": "#1a202c"
    },
    {
      "type": "color",
      "id": "star_color",
      "label": "Couleur √©toiles",
      "default": "#00b67a"
    },
    {
      "type": "color",
      "id": "info_color",
      "label": "Couleur info",
      "default": "#718096"
    },
    {
      "type": "color",
      "id": "count_color",
      "label": "Couleur nombre",
      "default": "#1a202c"
    },
    {
      "type": "color",
      "id": "brand_color",
      "label": "Couleur marque",
      "default": "#1a202c"
    }
  ],
  "presets": [
    {
      "name": "Trustpilot Minimal"
    }
  ]
}
{% endschema %}